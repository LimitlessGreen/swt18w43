// SETTINGS \\

:doctype: book

// -- Table of Contents

:toc:
:toclevels: 3
:toc-title: Inhaltsverzeichnis
:toc-placement!:

// -- Icons

ifdef::env-github[]

:caution-caption: :fire:
:important-caption: :exclamation:
:note-caption: :paperclip:
:tip-caption: :bulb:
:warning-caption: :warning:
endif::[]

ifdef::env-github[]
:status:
:outfilesuffix: .adoc
endif::[]

:sectanchors:
:numbered:

// -- Variables
:project_name: Bioladen :seedling:

= Pflichtenheft __{project_name}__

[options="header"]
[cols="1, 1, 1, 1, 4"]
|===
|Version | Status      | Bearbeitungsdatum   | Autoren(en) |  Vermerk

|0.1
| In Arbeit
| 10.10.2017
| Autor
| Initiale Version

|0.1.1
| ...
| 23.10.2018
| Jairus, Lukas
| Inhaltsverzeichnis hinzugefügt

|0.1.2
| ...
| 23.10.2018
| Jairus, Lukas
| Diagramme hinzugefügt

|0.2
|...
|24.10.2018
|Lukas
|Zusammenfassung, Aufgabenstellung, Produktnutzung, Interessengruppen, testLabel

|0.2.1
|...
|25.10.2018
|Josi
|Akteure hinzugefügt


|0.2.2
|...
|26.10.2018
|Lukas
|Muss- und Kannkriterien
|===

toc::[]

== Zusammenfassung
In dem Pflichtenheft finden Sie die Aufgabenstellung sowie wichtige Modelle sowie den GUI Entwurf des Bioladens.
Außerdem werden die Anforderungen und die Ziele der Software hier spezifiziert.

== Aufgabenstellung und Zielsetzung

Für die Abwicklung unserer Geschäftsvorgänge ist ein Warenwirtschaftssystem zu
erstellen, welches verschiedene Datenbanken miteinander verknüpft.  +

So soll eine Einkaufsdatenbank alle lieferbaren Produkte unserer Zulieferer beinhalten.
Grundlage bildet dabei das BNN-Format, welches alle wichtigen Informationen zu den
Produkten vorsieht. Die entsprechenden Kataloge (mit bis zu 10000 Artikeln) können
durch Import von Listen der Grosshändler in die Datenbank gelangen. Beachten Sie
bitte, dass mehrere Grosshändler die gleichen Produkte führen, oft mit differierenden
Preisen. Da wir auch Produkte anbieten, die von Grosshändlern stammen, welche keine
Produktkataloge im BNN-Format zur Verfügung stellen, muss die manuelle Eingabe
weiterer Artikel mit für uns wesentlichen Produktinformationen möglich sein. Der
gesamte Bereich der Einkaufsdatenbank ist vor Einsichtnahme durch das
Verkaufspersonal zu schützen. +

Für die Organisation unserer Einkäufe und die Herstellung von Transparenz für die
Kunden ist eine Lieferantendatenbank notwendig. Diese bietet uns die Möglichkeit auf
Adressen, Telefonnummern, Ansprechpartner, Mindestbestellwerte, Zahlungsmodi,
Steuernummern usw. zurückzugreifen. Der Zugriff auf die Lieferantendatenbank ist für
das Verkaufspersonal nur eingeschränkt zu ermöglichen (Lieferantenname, Ort). +

Da wir eine Vielzahl Kunden bedienen, die unterschiedliche Konditionen erhalten,
benötigt unser Warenwirtschaftssystem auch eine Kundendatei. Diese soll die
Zuordnung der Kunden zu Gruppen ermöglichen (Normalkunden, Personal,
Großhandelsabnehmer, Hauskunden). Ferner soll die Kundendatei für Marketingzwecke
e-mail-Adressen, Wohn- bzw. Geschäftsadresse, Telefonnummern und die Vorliebe für
bestimmte Produkte bereithalten. Die Eingabe von Normalkundendaten ist für das
Verkaufspersonal möglich. Alle anderen Kundenzuordnungen erfolgen durch die
Geschäftsleitung. +

Kernstück des Warenwirtschaftssystems ist die Verkaufsdatenbank. Die von uns für den
Verkauf aus der Einkaufsdatenbank ausgewählten Artikel finden hier ihren Platz.
Beachten Sie bitte, dass diese zur Verarbeitung des alltäglichen Verkaufs nicht alle
lieferbaren Produkte umfassen muss. Priorität hat der schnelle Zugriff auf die Artikel (bis
zu 999). Für die Verkaufsdatenbank müssen die Preise für unterschiedliche
Kundengruppen kalkuliert werden. Für die Zeitersparnis bei der Kalkulation der
Verkaufspreise soll global kalkuliert werden können. Ferner soll die Kalkulation für
unterschiedliche Warengruppen und einzelne Artikel möglich sein. Als geeignet für
letztere erweist sich eine Darstellung in einer Merkliste, in die die zu kalkulierenden
Artikel vor der Kalkulation nach unterschiedlichen Gesichtspunkten sortiert werden, um
anschliessend wiederum global kalkuliert werden zu können. Die Auswahl der Artikel für
die Verkaufsdatenbank und die Kalkulation bleibt der Geschäftsleitung vorbehalten. Im
Handel allgemein und auch bei uns sind ausgewählte Produkte in Pfandartikeln verpackt.
Im Verkauf müssen also bestimmte Produkte mit Pfandartikeln verknüpft werden. +

Da wir der Preisauszeichnungspflicht unterworfen sind, soll unser
Warenwirtschaftssystem den Etikettendruck unterstützen. Ferner dienen Etiketten zurErfassung von Bestellvorgängen. Folgende Angaben sind dabei unabdingbar:
Produktname, Produktgrösse, Preis (für auszuwählende Kundengruppe),
Grundpreiseinheit, Grundpreis und EAN (Barcode). Nützlich sind Angaben, wie
Anbauverband (Bioland, Naturland, GÄA usw.), Lieferant, Sollstückzahl). +

Der wesentliche Bestandteil unseres Geschäftes besteht im Tausch von Produkten
gegen Bargeld mit unseren Kunden. Diese wählen einen Artikel aus, der durch den
Verkauf in deren Besitz übergeht. Entsprechend muss der jeweilige Artikel aus unserem
Bestand ausgebucht werden. Gleichzeitig bekommen wir dafür Bargeld, welches
unterschiedlichen Mehrwertsteuersätzen unterworfen ist. Auch dieses muss (nach
Steuersätzen getrennt) verbucht werden. Die Kassierfunktion unserer Warenwirtschaft
soll so einzelne oder mehrere Artikel erfassen. Dabei ist jede Waren- oder
Geldbewegung zu archivieren und einer einfachen statistischen Auswertung zugänglich
zu machen. Beachten Sie bitte, dass die Kassierfunktion sowohl die Addition von
Artikelwerten als auch die Subtraktion von zurückgegebenen Pfandwerten ermöglichen
muss. Auch die Multiplikation von Artikeln (etwa 6*Milch) sollte möglich sein. Nach
Eingabe aller vom Kunden gewünschter Artikel, wird der Verkaufsvorgang mit der
Bezahlung abgeschlossen. Um das Verkaufspersonal zu entlasten, ist es notwendig, die
Wechselgeldsumme unter Zuhilfenahme der vom Kunden übergebenen Summe durch
die Kasse zu berechnen und anzuzeigen. Wird innerhalb eines unabgeschlossenen
Verkaufsvorganges eine Rückbuchung vorgenommen, so handelt es sich dabei um eine
einfache Stornierung. Eine globale Stornierung — etwa, weil ein Kunde kein Geld bei
sich hat — sollte ebenfalls schnell möglich sein. Jegliche Stornierungen müssen
archiviert werden. +

Für die Feststellung der sich im Laden befindlichen Werte sind Inventuren notwendig.
Ein Wertvergleich von eingekaufter Ware, die bei Lieferung eingebucht wird, verkaufter
Ware und bei der Inventur vorhandener Ware liefert Inventurdifferenzen, die
aussagekräftig für Diebstahlsaufkommen sind. Zudem ist die Feststellung des
Warenwertes zum Wechsel des Wirtschaftsjahres vorgeschrieben. +

Der Bestellvorgang erfolgt für alle im Laden befindlichen Artikel auf einmal.
Anschliessend werden die Bestellungen für die einzelnen Anbieter ausgegeben. Die
Einkaufshilfe unseres Warenwirtschaftssystems ermöglicht es für gleiche Produkte von
unterschiedlichen Grosshändlern den günstigsten Anbieter auszuwählen. +

Als Zusatzaufgabe möchten wir wesentliche Erfassungen (Einbuchung bei
Wareneingang, Kassierfunktion, Inventuren) über einen Barcodescanner realisiert
wissen.


Ziele der Software:

- Produktkatalog für den Kunden im Web
- Verwaltungssystem für:
    * Angestellte
    * Bestellungen
    * Kunden
    * Verkäufe
    * Statistiken
- Repräsentation des Laden durch ein ansprechendes und intuitives Design im Web

== Produktnutzung
Das System wird hauptsächlich für die Verwaltung eines Bioladens genutzt.
Zusätzlich repräsentiert die Software den Laden auch im Web.

Dabei wird das System auf den Geräten im Bioladen laufen und im Internet(über den Browser) für die Kunden.
Das System wird dabei für die neueste Version folgender Browser optimiert, worüber es erreichbar ist:

- Mozilla Firefox
- Google Chrome

Die Nutzer, die das System am häufigsten nutzen werden, sind alle Leute, die sich über die Produkte des Bioladens informieren wollen.
Dabei wird nur typische Website Navigation vorausgesetzt.

Das Verkaufspersonal muss mit dem Umgang mit dem System vertraut gemacht werden, um an der Kasse effektiv arbeiten zu können.
Spezielle Vorkenntnisse sind hier aber auch nicht erforderlich.

Der Manager wird auch mit dem System vertraut gemacht und braucht auch keine weitere technische Erfahrung.

Alle Daten werden persistent in einer Datenbank gespeichert, wobei kein SQL Wissen vom Manager nötig ist.


== Interessensgruppen (Stakeholders)
Hier ist jede Gruppe gelistet, die irgendeinen Einfluss auf das Projekt hat.
Die Priorität 1-5 (niedrig-hoch) soll bei sich überschneidenden Zielen eine Entscheidungshilfe bieten.

[options="header"]
[cols="1,2,3,4"]
|===
|Name  |Priorität  |Beschreibung  |Ziele
|Manager des Bioladens  |5  |Der primäre Kunde des Projekts  | - Mehr Kunden anlocken +
- Vereinfacht den Prozess von Bestellungen, Inventur, Verkaufen, Nutzerverwaltung, etc.
|Kunden |3 |Sehen das System nur im Internet. Agieren sonst nicht direkt mit System. | - Gute Benutzer Erfahrung +
- Einfach zu bedienende Oberfläche im Browser
|Entwickler |3 |Leute, die das System entwicklen | - Einfache Erweiterbarkeit +
- Wenig Wartungsaufwand
|===

== Systemgrenze und Top-Level-Architektur

=== Kontextdiagramm
Das link:++https://github.com/st-tu-dresden-praktikum/swt18w43/blob/model/src/main/asciidoc/models/analysis/ContextDiagram.svg++[Kontextdiagramm] zeigt das geplante Software-System in seiner Umgebung. Zur Umgebung gehören alle Nutzergruppen des Systems und Nachbarsysteme. Die Grafik kann auch informell gehalten sein. Überlegen Sie sich dann geeignete Symbole. Die Grafik kann beispielsweise mit Visio erstellt werden. Wenn nötig, erläutern Sie diese Grafik.

image::models/analysis/ContextDiagram.svg[]

=== Top-Level-Architektur
Dokumentieren Sie ihre link:++https://github.com/st-tu-dresden-praktikum/swt18w43/blob/model/src/main/asciidoc/models/analysis/TopLevelArchitecture.svg++[Top-Level-Architektur] mit Hilfe eines Komponentendiagramm.

image::models/analysis/TopLevelArchitecture.svg[]

== Anwendungsfälle

=== Akteure

Akteure sind die Benutzer des Software-Systems oder Nachbarsysteme, welche darauf zugreifen. Dokumentieren Sie die Akteure in einer Tabelle. Diese Tabelle gibt einen Überblick über die Akteure und beschreibt sie kurz. Die Tabelle hat also mindestens zwei Spalten (Akteur Name und Kommentar).
Weitere relevante Spalten können bei Bedarf ergänzt werden.

// See http://asciidoctor.org/docs/user-manual/#tables
[options="header"]
[cols="1,4"]
|===
|Name |Beschreibung
|Kunden | Kunden interagieren mit dem System nur über die firmeneigene Website. Sie können die Produktliste der im Laden verfügbaren Produkte einsehen und sich zu den einzelnen Produkten
Produktinformationen anschauen. Sie können sich außerdem eine Merkliste erstellen, in der sie alle Produkte in der gewünschten Menge angeben können und das System ihnen
 einen daraufhin kalkulierten Gesamtpreis zurück gibt.
|Personal (Staff)| Das Personal interagiert mit dem System über die Kassenterminals im Bioladen. Es kann Waren zum Warenkorb hinzufügen und einen Gesamtpreis berechnen. Außerdem kann es Geld
kassieren und erfährt durch das System, wie viel Rückgeld der Kunde bekommt. Es kann außerdem Hauskunden zum System hinzufügen. Es hat außerdem beschränkten Zugriff auf die Lieferantendatenbank
(Lieferantenname, Ort). Das Personal kann außerdem einfache und globale Stornierungen vornehmen.
|Manager | Der Manager hat zusätzlich zu den Berechtigungen des Personals noch einige verwaltungstechnische Möglichkeiten. Er hat Zugriff auf einen Bestellassistenten, der ihm hilft
den günstigsten Preis für zu bestellende Produkte zu finden und beim Bestellvorgang unterstützt. Er bekommt außerdem eine Übersicht über die im Lager und im Laden gelagerten Produkte
und kann für die Inventur eine Liste bereitstellen. Wenn es bei dieser zu Abweichungen vom tatsächlichen Bestand kommt, kann er diesen aktualisieren. Er kann zusätzlich zu den
Hauskunden auch Großkunden und Personal verwalten (Neue hinzufügen, Daten aktualisieren, Kunden/Personal löschen).

|===

=== Überblick Anwendungsfalldiagramm
link:++https://github.com/st-tu-dresden-praktikum/swt18w43/blob/model/src/main/asciidoc/models/analysis/UseCase.svg++[Anwendungsfall-Diagramm], das alle Anwendungsfälle und alle Akteure darstellt

image::models/analysis/UseCase.svg[]

=== Anwendungsfallbeschreibungen
Dieser Unterabschnitt beschreibt die Anwendungsfälle. In dieser Beschreibung müssen noch nicht alle Sonderfälle und Varianten berücksichtigt werden. Schwerpunkt ist es, die wichtigsten Anwendungsfälle des Systems zu finden. Wichtig sind solche Anwendungsfälle, die für den Auftraggeber, den Nutzer den größten Nutzen bringen.
Für komplexere Anwendungsfälle ein UML-Sequenzdiagramm ergänzen.
Einfache Anwendungsfälle mit einem Absatz beschreiben.
Die typischen Anwendungsfälle (Anlegen, Ändern, Löschen) können zu einem einzigen zusammengefasst werden.

== Funktionale Anforderungen

=== Muss-Kriterien
- Funktionen in Datenbanken müssen beinhalten:
    * Sortieren
    * Entfernen
    * Hinzufügen
    * Suche
- Einkäufe, Verkäufe und sonstiges müssen in einem Log archiviert werden
- Der Bestand von Produkten im Laden muss dem Manager angezeigt werden
- Es werden die Vorlieben von Hauskunden (Kunden mit Kundenkarte) gespeichert
- Der Manager kann den Prozentsatz für die Gewinnberechnung für die Produktpreise ändern
- Es können nur 999 Produkte im Laden ausgestellt werden
- Es können bis zu 10000 Artikel in der Einkaufdatenbank sein
- Es gibt einen online Merkzettel für Kunden (ohne Bestellfunktion)
- Produkte müssen aus dem Bestand entfernt werden, sobald sie im Warenkorb sind
- Der endgültige Preis an der Kasse wird global kalkuliert
- Die Produkte im Warenkorb müssen nach Kategorien sortiert werden
- Pro Produkt muss ein Etikett erstellt werden
- Man kann für alle Produkte auf einmal die Etikette drucken lassen
- Im Warenkorb wird Anzahl und Kilopreis von Produkten angezeigt
- Steuerabgaben werden extra berechnet -> nicht in den Profit
- Es muss eine statistische Auswertung von Verkäufen etc. in Tabellen und Diagrammen geben
- Es muss eine einfache und eine globale Stornierung möglich sein
- Nach der Inventur muss der Lagerbestand wenn nötig angepasst werden können
- Es muss nach Ende eines Wirtschaftsjahres der Warenwert festgestellt werden können
- Es muss eine Übersicht von den bestellten Lieferungen geben
- Falls ein Lieferant nicht mehr liefert, müssen diese Produkte angepasst werden können
- Die Mindestbestellmenge bei Händlern muss implementiert werden
- Es kann sein, dass Lieferungen Probleme haben und nicht ankommen. Die muss abgefangen werden

=== Kann-Kriterien
- Es gibt ein Ablaufdatum für Produkte
- Es kann Sonderaktionen geben
- Bei einer globalen Stornierung können die Produkte für den Kunden zurückgehalten werden
- Es gibt außerdem einen Mindestbestellwert bei Händlern

== Nicht-Funktionale Anforderungen

=== Qualitätsziele

Dokumentieren Sie in einer Tabelle die Qualitätsziele, welche das System erreichen soll, sowie deren Priorität.

=== Konkrete Nicht-Funktionale Anforderungen

Beschreiben Sie Nicht-Funktionale Anforderungen, welche dazu dienen, die zuvor definierten Qualitätsziele zu erreichen.
Achten Sie darauf, dass deren Erfüllung (mindestens theoretisch) messbar sein muss.

== GUI Prototyp

In diesem Kapitel befindet sich ein visueller Entwurf der Anwendnung, der die Navigations- und Dialog-Möglichkeiten darstellt

Konkrete Absprachen - beispielsweise ob der grafische Prototyp oder die Dialoglandkarte höhere Priorität hat - sind mit dem Kunden zu treffen.

[[start_image]]
image::GUI_Entwurf/startseite.PNG[startseite, 100%, 100%, pdfwidth=100%, title= "Startseite von {project_name}", align=center]

[[produktuebersicht_image]]
image::GUI_Entwurf/produktuebersicht_kunde.PNG[Produktübersicht, 100%, 100%, pdfwidth=100%, title= "Produktübersicht von {project_name} aus Sicht des Kunden", align=center]

[[produktinfo_image]]
image::GUI_Entwurf/produktinfo.PNG[Produktinfo, 100%, 100%, pdfwidth=100%, title= "Produktinformationen für die einzelnen Produkte in {project_name}", align=center]

[[merkliste_image]]
image::GUI_Entwurf/merkliste.PNG[Merkliste, 100%, 100%, pdfwidth=100%, title= "Merkliste in {project_name}", align=center]

[[login_image]]
image::GUI_Entwurf/loginstart.PNG[Login, 100%, 100%, pdfwidth=100%, title= "Loginseiten für Personal in {project_name}", align=center]

[[erfolgreicherlogin_image]]
image::GUI_Entwurf/login.PNG[Mangaer eingeloggt, 100%, 100%, pdfwidth=100%, title= "erfolgreicher Login für Manager in {project_name}", align=center]

[[produktuebersichtmanager_image]]
image::GUI_Entwurf/produktuebersicht.PNG[Produktübersicht, 100%, 100%, pdfwidth=100%, title= "Produktübersicht aus Sicht des Managers in {project_name}", align=center]

[[verwaltung_image]]
image::GUI_Entwurf/verwaltung.PNG[Verwaltung, 100%, 100%, pdfwidth=100%, title= "Verwaltungsübersicht in {project_name}", align=center]

[[userhin_image]]
image::GUI_Entwurf/user_hinzufuegen.PNG[Userhinzufuegen, 100%, 100%, pdfwidth=100%, title= "neue Kundenkatei in {project_name} anlegen", align=center]

[[userver_image]]
image::GUI_Entwurf/user_verwalten.PNG[Userverwalten, 100%, 100%, pdfwidth=100%, title= "Nutzer verwalten in {project_name}", align=center]

[[bnn_image]]
image::GUI_Entwurf/bnn.PNG[BNN, 100%, 100%, pdfwidth=100%, title= "Ganze Listen im BNN-Format importieren in {project_name}", align=center]

[[produktmanuell_image]]
image::GUI_Entwurf/produkt_manuell.PNG[Produktmanuell, 100%, 100%, pdfwidth=100%, title= "Produkte manuell in die Datenbank hinzufügen in {project_name}", align=center]

[[kasse_image]]
image::GUI_Entwurf/kasse.PNG[Kasse, 100%, 100%, pdfwidth=100%, title= "Kassiersystem in {project_name}", align=center]

[[bestellung_image]]
image::GUI_Entwurf/bestellung.PNG[Bestellung, 100%, 100%, pdfwidth=100%, title= "Bestellsystem in {project_name}", align=center]

[[statistik_image]]
image::GUI_Entwurf/statistik.PNG[Statistik, 100%, 100%, pdfwidth=100%, title= "Statistikübersicht in {project_name}", align=center]


[[testlabel_image]]
image::testLabel.svg[Label, 50%, 50%, pdfwidth=50%, title= "Entwurf eine Etikette für {project_name}", align=center]
TIP: Zur vollständig korrekten Anzeige wird die Schriftart „Lato“ benötigt


=== Überblick: Dialoglandkarte
Erstellen Sie ein Übersichtsdiagramm, das das Zusammenspiel Ihrer Masken zur Laufzeit darstellt. Also mit welchen Aktionen zwischen den Masken navigiert wird.
//Die nachfolgende Abbildung zeigt eine an die Pinnwand gezeichnete Dialoglandkarte. Ihre Karte sollte zusätzlich die Buttons/Funktionen darstellen, mit deren Hilfe Sie zwischen den Masken navigieren.

=== Dialogbeschreibung
Für jeden Dialog:

1. Kurze textuelle Dialogbeschreibung eingefügt: Was soll der jeweilige Dialog? Was kann man damit tun? Überblick?
2. Maskenentwürfe (Screenshot, Mockup)
3. Maskenelemente (Ein/Ausgabefelder, Aktionen wie Buttons, Listen, …)
4. Evtl. Maskendetails, spezielle Widgets

== Datenmodell

=== Überblick: Klassendiagramm
link:++https://github.com/st-tu-dresden-praktikum/swt18w43/blob/model/src/main/asciidoc/models/analysis/ClassAnalysisDiagram.svg++[UML-Analyseklassendiagramm]

image::models/analysis/ClassAnalysisDiagram.svg[]

=== Klassen und Enumerationen
Dieser Abschnitt stellt eine Vereinigung von Glossar und der Beschreibung von Klassen/Enumerationen dar. Jede Klasse und Enumeration wird in Form eines Glossars textuell beschrieben. Zusätzlich werden eventuellen Konsistenz- und Formatierungsregeln aufgeführt.

// See http://asciidoctor.org/docs/user-manual/#tables
[options="header"]
|===
|Klasse/Enumeration |Beschreibung |
|…                  |…            |
|===

== Akzeptanztestfälle
Mithilfe von Akzeptanztests wird geprüft, ob die Software die funktionalen Erwartungen und Anforderungen im Gebrauch erfüllt. Diese sollen und können aus den Anwendungsfallbeschreibungen und den UML-Sequenzdiagrammen abgeleitet werden. D.h., pro (komplexen) Anwendungsfall gibt es typischerweise mindestens ein Sequenzdiagramm (welches ein Szenarium beschreibt). Für jedes Szenarium sollte es einen Akzeptanztestfall geben. Listen Sie alle Akzeptanztestfälle in tabellarischer Form auf.
Jeder Testfall soll mit einer ID versehen werde, um später zwischen den Dokumenten (z.B. im Test-Plan) referenzieren zu können.

== Glossar
Sämtliche Begriffe, die innerhalb des Projektes verwendet werden und deren gemeinsames Verständnis aller beteiligten Stakeholder essentiell ist, sollten hier aufgeführt werden.
Insbesondere Begriffe der zu implementierenden Domäne wurden bereits beschrieben, jedoch gibt es meist mehr Begriffe, die einer Beschreibung bedürfen. +
Beispiel: Was bedeutet "Kunde"? Ein Nutzer des Systems? Der Kunde des Projektes (Auftraggeber)?


== Offene Punkte
Offene Punkte werden entweder direkt in der Spezifikation notiert. Wenn das Pflichtenheft zum finalen Review vorgelegt wird, sollte es keine offenen Punkte mehr geben.

